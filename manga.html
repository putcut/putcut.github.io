<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<title>マンガ | putcut.net</title>
</head>
<body>
<h1>面白がって読んだマンガ</h1>
<div id="mangaList" class="tier" >
</div>
© 2019 - <a href="https://putcut.net/">putcut.net</a>
<script>
  const getResponse = async() => {
    const response = await fetch('https://putcut.microcms.io/api/v1/manga' + '?limit=100', {
      headers: {
        'X-API-KEY': '016be63f-27d7-449d-babf-462512944d4c'
      }
    })
    const data = await response.json()
    const contents = data['contents']
    
    for (let i = 0; i < contents.length; i++) {
      const div = document.createElement('div')
      div.className = 'manga'

      const h3 = document.createElement('h3')
      h3.textContent = contents[i]['title']
      div.appendChild(h3)

      if (contents[i]['comment'] != undefined) {
        const p = document.createElement('p')
        p.textContent = contents[i]['comment']
        div.appendChild(p)
      }

      const image = new Image();
      image.src = contents[i]['image']['url']
      div.appendChild(image)

      document.getElementById('mangaList').appendChild(div)
    }
  }

  getResponse()
</script>
</body>
</html>